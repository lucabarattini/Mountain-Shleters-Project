{% extends 'base.html' %}

{% block title %} Piemonte - H-Farm Group Project {% endblock %}

{% block content %}
<div class="container-fluid mt-5 mb-5">
    <h1>Welcome to Piemonte</h1>
    <p>Here you can find information about Piemonte...</p>
    <!-- Add more content such as images, information, links, etc. -->

    <!-- Displaying mountain shelters -->
    <div class="row">
        {% for item in cleaned_data %}
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ item['DENOMINAZIONE'] }}</h5>
                        <p>
                            <strong>Provincia:</strong> {{ item['PROVINCIA'] }}<br>
                            <strong>Comune:</strong> {{ item['COMUNE'] }}<br>
                            <strong>Indirizzo:</strong> {{ item['INDIRIZZO'] }}<br>
                            <strong>Telefono:</strong> {{ item['TELEFONO'] }}<br>
                            <strong>Camere:</strong> {{ item['CAMERE'] }}<br>
                            <strong>Letti:</strong> {{ item['LETTI'] }}<br>
                            <strong>Bagni:</strong> {{ item['BAGNI'] }}<br>
                        </p>

                        <!-- Fetch additional data from the backend -->
                        {% set trail_info = get_trail_info(item['DENOMINAZIONE']) %}
                        {% if trail_info['found'] %}
                            <!-- Display data from mountain_shelters.csv -->
                            <!-- Add the fields you want to display from mountain_shelters.csv -->
                            <!-- Example: -->
                            <strong>Additional Info:</strong> {{ trail_info['data']['Description'] }}<br>
                        {% else %}
                            <span>ðŸ’€ Sorry, I wasnâ€™t able to find the trail path for your mountain shelter.</span>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}